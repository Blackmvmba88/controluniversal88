{
  "name": "control-universal",
  "version": "0.1.0",
  "description": "DualShock 4 -> WebUI input monitor (prototype)",
  "main": "server/server.js",
  "scripts": {
    "start": "node server/server.js",
    "dev": "NODE_ENV=development node server/server.js",
    "simulate": "SIMULATE=1 node server/server.js",
    "map": "node server/mapper.js",
    "auto-map": "node server/auto_map.js",
    "collect": "node server/collect_samples.js",
    "collect:auto": "curl -X POST -H 'Content-Type: application/json' -d '{\"count\":2}' http://localhost:8080/api/collect/auto",
    "simulate:events": "node tests/simulate_events.js",
    "start:sim": "SIMULATE=1 node server/server.js",
    "open": "open http://localhost:8080",
    "start:dev": "npm run start:sim & sleep 1 && npm run open",
    "smoke": "node tests/node-ws-test.js",
    "build:client": "npx terser web/client.js -c -m -o web/client.min.js --source-map",
    "smoke:extended": "node tests/ws-extended.test.js",
    "test:e2e": "npx playwright test --config=playwright.config.js",
    "test:all": "npm test && npx playwright test --config=playwright.config.js",
    "make:bookmarklet": "node scripts/make-bookmarklet.js",
    "start:tunnel": "node scripts/start-tunnel.js",
    "check:json": "node scripts/check-json.js",
    "prepare": "husky install",
    "test": "node tests/run-tests.js",
    "test:py": "python -m pytest -q",
    "start:py": "python3 python/server.py",
    "start:rb": "bundle exec ruby ruby/server.rb",
    "start:rb:sim": "SIMULATE=1 bundle exec ruby ruby/server.rb"
  },
  "config": {
    "bookmarklet_default_ttl_hours": 4,
    "artifact_default_retention_hours": 48
  },
  "devDependencies": {
    "@playwright/test": "^1.57.0",
    "husky": "^8.0.3",
    "lint-staged": "^13.3.0",
    "localtunnel": "^2.0.0",
    "minimist": "^1.2.8",
    "playwright": "^1.57.0",
    "prettier": "^2.8.8",
    "terser": "^5.44.1",
    "usb": "^2.16.0"
  },
  "lint-staged": {
    "*.json": [
      "node scripts/check-json-staged.js",
      "prettier --write"
    ],
    "*.{js,jsx,ts,tsx}": [
      "prettier --write"
    ],
    "*.md": [
      "prettier --write"
    ]
  },
  "dependencies": {
    "express": "^4.18.2",
    "node-hid": "^2.1.1",
    "ws": "^8.13.0"
  },
  "engines": {
    "node": ">=16"
  }
}
